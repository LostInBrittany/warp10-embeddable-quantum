(function(a){'use strict';function b(){function a(c){var e=this;return e instanceof a?void(c instanceof a?(e.s=c.s,e.e=c.e,e.c=c.c.slice()):d(e,c),e.constructor=a):void 0===c?b():new a(c)}return a.prototype=n,a.DP=h,a.RM=i,a.E_NEG=l,a.E_POS=m,a}function c(a,b,d){var e=a.constructor,g=b-(a=new e(a)).e,h=a.c;for(h.length>++b&&f(a,g,e.RM),h[0]?d?g=b:(h=a.c,g=a.e+g+1):++g;h.length<g;h.push(0));return g=a.e,1===d||d&&(b<=g||g<=e.E_NEG)?(0>a.s&&h[0]?'-':'')+(1<h.length?h[0]+'.'+h.join('').slice(1):h[0])+(0>g?'e':'e+')+g:a.toString()}function d(a,b){var c,d,e;for(0===b&&0>1/b?b='-0':!o.test(b+='')&&g(NaN),a.s='-'==b.charAt(0)?(b=b.slice(1),-1):1,-1<(c=b.indexOf('.'))&&(b=b.replace('.','')),0<(d=b.search(/e/i))?(0>c&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):0>c&&(c=b.length),e=b.length,d=0;d<e&&'0'==b.charAt(d);d++);if(d==e)a.c=[a.e=0];else{for(;0<e&&'0'==b.charAt(--e););for(a.e=c-d-1,a.c=[];d<=e;a.c.push(+b.charAt(d++)));}return a}function f(a,b,c,d){var e,f=a.c,h=a.e+b+1;if(1===c?d=5<=f[h]:2===c?d=5<f[h]||5==f[h]&&(d||0>h||f[h+1]!==e||1&f[h-1]):3===c?d=d||f[h]!==e||0>h:(d=!1,0!==c&&g('!Big.RM!')),1>h||!f[0])d?(a.e=-b,a.c=[1]):a.c=[a.e=0];else{if(f.length=h--,d)for(;9<++f[h];)f[h]=0,h--||(++a.e,f.unshift(1));for(h=f.length;!f[--h];f.pop());}return a}function g(a){var b=new Error(a);throw b.name='BigError',b}var e,h=20,i=1,j=1E6,k=1E6,l=-7,m=21,n={},o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;n.abs=function(){var a=new this.constructor(this);return a.s=1,a},n.cmp=function(a){var b,c=this,d=c.c,e=(a=new c.constructor(a)).c,f=c.s,g=a.s,h=c.e,i=a.e;if(!d[0]||!e[0])return d[0]?f:e[0]?-g:0;if(f!=g)return f;if(b=0>f,h!=i)return h>i^b?1:-1;for(f=-1,g=(h=d.length)<(i=e.length)?h:i;++f<g;)if(d[f]!=e[f])return d[f]>e[f]^b?1:-1;return h==i?0:h>i^b?1:-1},n.div=function(a){var b=this,c=b.constructor,d=b.c,e=(a=new c(a)).c,h=b.s==a.s?1:-1,i=c.DP;if((i!==~~i||0>i||i>j)&&g('!Big.DP!'),!d[0]||!e[0])return d[0]==e[0]&&g(NaN),e[0]||g(h/0),new c(0*h);var k,l,m,n,o,p,r=e.slice(),s=k=e.length,t=d.length,u=d.slice(0,k),v=u.length,w=a,q=w.c=[],x=0,y=i+(w.e=b.e-a.e)+1;for(w.s=h,h=0>y?0:y,r.unshift(0);v++<k;u.push(0));do{for(m=0;10>m;m++){if(k!=(v=u.length))n=k>v?1:-1;else for(o=-1,n=0;++o<k;)if(e[o]!=u[o]){n=e[o]>u[o]?1:-1;break}if(0>n){for(l=v==k?e:r;v;){if(u[--v]<l[v]){for(o=v;o&&!u[--o];u[o]=9);--u[o],u[v]+=10}u[v]-=l[v]}for(;!u[0];u.shift());}else break}q[x++]=n?m:++m,u[0]&&n?u[v]=d[s]||0:u=[d[s]]}while((s++<t||u[0]!==p)&&h--);return q[0]||1==x||(q.shift(),w.e--),x>y&&f(w,i,c.RM,u[0]!==p),w},n.eq=function(a){return!this.cmp(a)},n.gt=function(a){return 0<this.cmp(a)},n.gte=function(a){return-1<this.cmp(a)},n.lt=function(a){return 0>this.cmp(a)},n.lte=function(a){return 1>this.cmp(a)},n.sub=n.minus=function(c){var d,e,f,g,h=this,i=h.constructor,j=h.s,k=(c=new i(c)).s;if(j!=k)return c.s=-k,h.plus(c);var l=h.c.slice(),m=h.e,n=c.c,o=c.e;if(!l[0]||!n[0])return n[0]?(c.s=-k,c):new i(l[0]?h:0);if(j=m-o){for((g=0>j)?(j=-j,f=l):(o=m,f=n),f.reverse(),k=j;k--;f.push(0));f.reverse()}else for(e=((g=l.length<n.length)?l:n).length,j=k=0;k<e;k++)if(l[k]!=n[k]){g=l[k]<n[k];break}if(g&&(f=l,l=n,n=f,c.s=-c.s),0<(k=(e=n.length)-(d=l.length)))for(;k--;l[d++]=0);for(k=d;e>j;){if(l[--e]<n[e]){for(d=e;d&&!l[--d];l[d]=9);--l[d],l[e]+=10}l[e]-=n[e]}for(;0===l[--k];l.pop());for(;0===l[0];)l.shift(),--o;return l[0]||(c.s=1,l=[o=0]),c.c=l,c.e=o,c},n.mod=function(c){var d,e=this,f=e.constructor,h=e.s,a=(c=new f(c)).s;return(c.c[0]||g(NaN),e.s=c.s=1,d=1==c.cmp(e),e.s=h,c.s=a,d)?new f(e):(h=f.DP,a=f.RM,f.DP=f.RM=0,e=e.div(c),f.DP=h,f.RM=a,this.minus(e.times(c)))},n.add=n.plus=function(c){var d,e=this,f=e.constructor,g=e.s,h=(c=new f(c)).s;if(g!=h)return c.s=-h,e.minus(c);var i=e.e,j=e.c,k=c.e,l=c.c;if(!j[0]||!l[0])return l[0]?c:new f(j[0]?e:0*g);if(j=j.slice(),g=i-k){for(0<g?(k=i,d=l):(g=-g,d=j),d.reverse();g--;d.push(0));d.reverse()}for(0>j.length-l.length&&(d=l,l=j,j=d),g=l.length,h=0;g;)h=0|(j[--g]=j[g]+l[g]+h)/10,j[g]%=10;for(h&&(j.unshift(h),++k),g=j.length;0===j[--g];j.pop());return c.c=j,c.e=k,c},n.pow=function(a){var b=this,c=new b.constructor(1),d=c,e=0>a;for((a!==~~a||a<-k||a>k)&&g('!pow!'),a=e?-a:a;;){if(1&a&&(d=d.times(b)),a>>=1,!a)break;b=b.times(b)}return e?c.div(d):d},n.round=function(a,b){var c=this,d=c.constructor;return null==a?a=0:(a!==~~a||0>a||a>j)&&g('!round!'),f(c=new d(c),a,null==b?d.RM:b),c},n.sqrt=function(){var a,b,c,d=Math.sqrt,h=this,j=h.constructor,k=h.c,l=h.s,i=h.e,e=new j('0.5');if(!k[0])return new j(h);0>l&&g(NaN),l=d(h.toString()),0===l||l===1/0?(a=k.join(''),!(1&a.length+i)&&(a+='0'),b=new j(d(a).toString()),b.e=(0|(i+1)/2)-(0>i||1&i)):b=new j(l.toString()),l=b.e+(j.DP+=4);do c=b,b=e.times(c.plus(h.div(c)));while(c.c.slice(0,l).join('')!==b.c.slice(0,l).join(''));return f(b,j.DP-=4,j.RM),b},n.mul=n.times=function(d){var e,c=this,f=c.constructor,g=c.c,h=(d=new f(d)).c,k=g.length,a=h.length,b=c.e,i=d.e;if(d.s=c.s==d.s?1:-1,!g[0]||!h[0])return new f(0*d.s);for(d.e=b+i,k<a&&(e=g,g=h,h=e,i=k,k=a,a=i),e=Array(i=k+a);i--;e[i]=0);for(b=a;b--;){for(a=0,i=k+b;i>b;)a=e[i]+h[b]*g[i-b-1]+a,e[i--]=a%10,a=0|a/10;e[i]=(e[i]+a)%10}for(a&&++d.e,e[0]||e.shift(),b=e.length;!e[--b];e.pop());return d.c=e,d},n.toString=n.valueOf=n.toJSON=function(){var a=this,b=a.constructor,c=a.e,d=a.c.join(''),e=d.length;if(c<=b.E_NEG||c>=b.E_POS)d=d.charAt(0)+(1<e?'.'+d.slice(1):'')+(0>c?'e':'e+')+c;else if(0>c){for(;++c;d='0'+d);d='0.'+d}else if(!(0<c))1<e&&(d=d.charAt(0)+'.'+d.slice(1));else if(++c>e)for(c-=e;c--;d+='0');else c<e&&(d=d.slice(0,c)+'.'+d.slice(c));return 0>a.s&&a.c[0]?'-'+d:d},n.toExponential=function(a){return null==a?a=this.c.length-1:(a!==~~a||0>a||a>j)&&g('!toExp!'),c(this,a,1)},n.toFixed=function(a){var b,d=this,e=d.constructor,f=e.E_NEG,h=e.E_POS;return e.E_NEG=-(e.E_POS=1/0),null==a?b=d.toString():a===~~a&&0<=a&&a<=j&&(b=c(d,d.e+a),0>d.s&&d.c[0]&&0>b.indexOf('-')&&(b='-'+b)),e.E_NEG=f,e.E_POS=h,b||g('!toFix!'),b},n.toPrecision=function(a){return null==a?this.toString():((a!==~~a||1>a||a>j)&&g('!toPre!'),c(this,a-1,2))},e=b(),'function'===typeof define&&define.amd?define(function(){return e}):'undefined'!==typeof module&&module.exports?(module.exports=e,module.exports.Big=e):a.Big=e})(this);