<html><head><link rel="import" href="../warp10-iron/warp10-gts-tools.html"><link rel="import" href="../warp10-iron/warp10-color-tools.html"><link rel="import" href="../warp10-iron/warp10-looseJSON.html"><script>(function(){let a={};a.MIN_TS=0,a.MAX_TS=9007199254740991,a.getRange=function(){},a.getAnnotations=function(b,c){let d=a.getValidResponse(b);if(!d)return[];a.debug&&console.log('[warp10-quantumviz-tools] getAnnotations - response',d);let e=[];for(let f=0;f<d.gts.length;f++)if(gtsTools.isGtsToAnnotate(d.gts[f])){let b=a.gtsToAnnotation(d.gts[f],c);b.key=void 0!==d.params&&void 0!==d.params[f].key?d.params[f].key:b.c+JSON.stringify(b.l),b.color=void 0!==d.params&&void 0!==d.params[f].color?d.params[f].color:warp10ColorTools.getColor(f),e.push(b)}return a.debug&&console.log('[warp10-quantumviz-tools] getAnnotations - annotations',e),e},a.gtsToAnnotation=function(a,b){let c={c:a.c,l:a.l,id:a.id,values:[],key:' '+a.id+' - '+a.c+(null!==a.l)?' - '+JSON.stringify(a.l):''};if(a.v!==void 0){gtsTools.gtsSort(a);for(let d=0;d<a.v.length;d++){let e=a.v[d],f=e[0];b||(f=Math.round(f/1e3)),c.values.push({x:f,y:e[e.length-1]})}}return c},a.getValidResponse=function(b){return a.isValidDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidDetailedResponse',b),{gts:b[0].gts,params:b[0].params,globalParams:b[0].globalParams||{}}):a.isValidParamlessDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidParamlessDetailedResponse',b),{gts:b[0].gts,params:b[0].gts.map(function(){return{}}),globalParams:b[0].globalParams||{}}):a.isValidSingleDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidSingleDetailedResponse',b),{gts:[b[0].gts],params:[b[0].params],globalParams:b[0].globalParams||{}}):a.isValidParamlessSingleDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidParamlessSingleDetailedResponse',b),{gts:[b[0].gts],params:[{}],globalParams:b[0].globalParams||{}}):a.isValidGtsListResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidGtsListResponse',b),a.debug&&console.log({gts:b,params:b.forEach(function(){return{}}),globalParams:b[0].globalParams}),{gts:b,params:b.map(function(){return{}}),globalParams:{}}):a.isValidGtsResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] getValidResponse - isValidGtsResponse',b),{gts:[b],params:[{}],globalParams:{}}):null},a.isValidResponse=function(b){return a.isValidDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidDetailedResponse',b),!0):a.isValidParamlessDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidParamlessDetailedResponse',b),!0):a.isValidSingleDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidSingleDetailedResponse',b),!0):a.isValidParamlessSingleDetailedResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidSingleDetailedResponse',b),!0):a.isValidGtsListResponse(b)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidGtsListResponse',b),!0):!!a.isValidGtsResponse(b)&&(a.debug&&console.log('[warp10-quantumviz-tools] isValidResponse - isValidGtsResponse',b),!0)},a.isValidGtsResponse=function(a){return gtsTools.isGts(a)},a.isValidGtsListResponse=function(b){if(!gtsTools.isArray(b)||0==b.length)return a.debug&&console.log('[warp10-quantumviz-tools] isValidGtsListResponse false - Response isn\'t an Array: ',b),!1;for(let c in b)if(!gtsTools.isGts(b[c]))return a.debug&&console.log('[warp10-quantumviz-tools] isValidGtsListResponse false - Invalid GTS: ',b[c]),!1;return!0},a.isValidSingleDetailedResponse=function(b){return gtsTools.isArray(b)&&1===b.length?(b=b[0],void 0===b.gts||void 0===b.params?(a.debug&&console.log('[warp10-quantumviz-tools] isValidSingleDetailedResponse false',b),!1):'object'!==typeof b.gts||'object'!==typeof b.params?(a.debug&&console.log('[warp10-quantumviz-tools] isValidSingleDetailedResponse false',b),!1):!0):(a.debug&&console.log('[warp10-quantumviz-tools] isValidSingleDetailedResponse false',b),!1)},a.isValidParamlessSingleDetailedResponse=function(b){return gtsTools.isArray(b)&&1===b.length?(b=b[0],void 0===b.gts?(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessSingleDetailedResponse false',b),!1):'object'===typeof b.gts||(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessSingleDetailedResponse false',b),!1)):(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessSingleDetailedResponse false',b),!1)},a.isValidDetailedResponse=function(b){return(a.debug&&console.log('[warp10-quantumviz-tools] isValidDetailedResponse',b),!gtsTools.isArray(b)||1!==b.length)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidDetailedResponse false',b),!1):(b=b[0],void 0===b.gts||void 0===b.params?(a.debug&&console.log('[warp10-quantumviz-tools] isValidDetailedResponse false',b),!1):gtsTools.isArray(b.gts)&&gtsTools.isArray(b.params)?b.gts.length===b.params.length||(a.debug&&console.log('[warp10-quantumviz-tools] isValidDetailedResponse false',b),!1):(a.debug&&console.log('[warp10-quantumviz-tools] isValidDetailedResponse false',b),!1))},a.isValidParamlessDetailedResponse=function(b){return(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessDetailedResponse',b),!gtsTools.isArray(b)||1!==b.length)?(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessDetailedResponse false',b),!1):(b=b[0],void 0===b.gts?(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessDetailedResponse false',b),!1):!!gtsTools.isArray(b.gts)||(a.debug&&console.log('[warp10-quantumviz-tools] isValidParamlessDetailedResponse false',b),!1))},a.getGtsListRange=function(b){let c=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let d in b){if(!gtsTools.isGts(b[d]))break;let e=gtsTools.gtsTimeRange(b[d]);a.debug&&console.log('[quantumviz-tools] getGtsListRange - gtsRange',e),e&&(e[0]<c[0]&&(c[0]=e[0]),e[1]>c[1]&&(c[1]=e[1]))}return a.debug&&console.log('[quantumviz-tools] getGtsListRange',c),c},window.quantumvizGts=a}).call();</script></head><body></body></html>